{% extends 'base.html.twig' %}

{% block title %}Réservation{% endblock %}

{% block body %}
<main class="full-width mb-3">
    <div class="container mx-auto">
        <h1> Réservation de votre table</h1>
        {{ form_start(formResa) }}
            <div class="row">
                <div class="col-md-6">{{ form_row(formResa.name)}}</div>
                <div class="col-md-6">{{ form_row(formResa.time)}}</div>
                <div class="col-md-6">{{ form_row(formResa.hour)}}</div>
                <div class="col-md-6">{{ form_row(formResa.nbrguest)}}</div>
                <div class="col-md-6">{{ form_row(formResa.meal_allergy)}}</div>
                <a href="{{path('app_reservation')}}" class="js-likes">
                <button type="submit" class="btn btn-dark mb-3">{{ button_label|default('Réserver') }}</button>
                </a>
                <p class="alert"></p>
            </div>
        {{ form_end(formResa) }}
    </div>
</main>

{% endblock %}

{% block javascripts %}

    {#
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script>

    function showData(randomNumber)
    {
        $.ajax({
            type:"POST",
            url: "http://127.0.0.1:8000/reservation",
            data: {
                action:"showData",
                number: randomNumber
            },
            dataType: "json",
            success: function (response) {
                $("#message").html(response.message);
            }
        });
    }


    </script>#}

    {#<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>

        function onClickBtn(event){
            event.preventDefault();

            const url = window.location.href;

            axios.get(url).then(function (response) {
                console.log(response);
                document.querySelector('.alert').textContent = "plus de places";
            })
        }
        window.onload = function() {
            document.querySelectorAll('.js-likes').forEach(function(link){
            link.addEventListener('click', onClickBtn);
        })
}
    </script>#}

{% endblock %}

